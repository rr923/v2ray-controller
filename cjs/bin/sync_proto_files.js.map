{
  "version": 3,
  "sources": ["../../esm/bin/sync_proto_files.js"],
  "sourcesContent": ["import fs from \"fs\";\nimport { V2RAY_CORE_PATH, PROTOS_DIR } from \"../config.js\";\n\nconst mkdirAndCp = (originFile, targetFile) => { \n    let targetDir = targetFile.substring(0, targetFile.lastIndexOf(\"/\"));\n    fs.mkdirSync(targetDir, { recursive: true });\n    fs.copyFileSync(originFile, targetFile);\n}\nconst cpProtoFiles = async (V2RAY_CORE_PATH, target_path) => {\n    fs.readdirSync(V2RAY_CORE_PATH).forEach(file => {\n        if (file.endsWith(\".proto\")) {\n            mkdirAndCp(`${V2RAY_CORE_PATH}/${file}`, `${target_path}/${file}`);\n        } else { \n            fs.statSync(`${V2RAY_CORE_PATH}/${file}`).isDirectory() && cpProtoFiles(`${V2RAY_CORE_PATH}/${file}`, `${target_path}/${file}`);\n        }\n    });\n}\nconst main = async () => {\n    cpProtoFiles(V2RAY_CORE_PATH, PROTOS_DIR);\n    console.info(\"INFO: proto files sync done.\");\n}\n\nmain();"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA,gBAAe;AACf,oBAA4C;AAE5C,MAAM,aAAa,CAAC,YAAY,eAAe;AAC3C,MAAI,YAAY,WAAW,UAAU,GAAG,WAAW,YAAY,GAAG,CAAC;AACnE,YAAAA,QAAG,UAAU,WAAW,EAAE,WAAW,KAAK,CAAC;AAC3C,YAAAA,QAAG,aAAa,YAAY,UAAU;AAC1C;AACA,MAAM,eAAe,OAAOC,kBAAiB,gBAAgB;AACzD,YAAAD,QAAG,YAAYC,gBAAe,EAAE,QAAQ,UAAQ;AAC5C,QAAI,KAAK,SAAS,QAAQ,GAAG;AACzB,iBAAW,GAAGA,oBAAmB,QAAQ,GAAG,eAAe,MAAM;AAAA,IACrE,OAAO;AACH,gBAAAD,QAAG,SAAS,GAAGC,oBAAmB,MAAM,EAAE,YAAY,KAAK,aAAa,GAAGA,oBAAmB,QAAQ,GAAG,eAAe,MAAM;AAAA,IAClI;AAAA,EACJ,CAAC;AACL;AACA,MAAM,OAAO,YAAY;AACrB,eAAa,+BAAiB,wBAAU;AACxC,UAAQ,KAAK,8BAA8B;AAC/C;AAEA,KAAK;",
  "names": ["fs", "V2RAY_CORE_PATH"]
}
